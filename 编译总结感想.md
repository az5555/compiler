# 编译总结感想

本学期的编译课程，是我目前为止完成的最大的`java`项目，历经词法分析，语法分析，错误处理，中间代码生，目标代码生成以及最后的竞速排序优化；总共进6000行Java代码，虽然由于没有做太多优化，远远不及舍友的12000行代码，但也是一个大工程了。

本次编译器的完成，让我意识到一个好的参照的重要性。在`LLVM`中间代码生成的部分，由于我一开始并没有使用Value架构，后面才从舍友口中得知有这样一个架构，而我代码已经完成大半不得不重构；最后看到设计文档提交时要写出参考编辑器我才恍然大悟，需要有一个参照物才能模仿着构建一个好的框架。

与此同时，我也意识到设计一个好的框架的重要性；当我在完成`LLVM`中间代码生成时，我Type使用了一个枚举类来完成，到了后面指针和数组类型的完成给我带来了无数的麻烦，而重构也积重难返，极为麻烦。最后我逐渐也看不懂我写的代码，需要花时间来好好整理。

编译需要尽快开工，特别是代码生成部分；由于我前期较为懒散没有尽快完成完成代码生成部分，而且我其他一般专业课压力较大也挤占了我的时间，导致我代码优化并未完成太多，仅仅完成了一些较为简单的优化，留下了不少遗憾。

总的来说，编译技术的实验部分，给我留下了深刻的印象，其中我了解到了编译器的结构和一些常见的优化方式，了解到了`LLVM`这一中间代码形式，虽然中间有不少懊恼，但是收获不可谓不丰富。

#### 一些建议

- 测试代码生成的有些辅助样例相当杂乱，用来debug时很难快速找出问题所在需要看半天源码，希望辅助样例更为直观。

